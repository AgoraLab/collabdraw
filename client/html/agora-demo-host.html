<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Agora Whiteboard Demo</title>
    <link rel="shortcut icon" href="assets/favicon.ico"/>
    <link rel="stylesheet" href="../build/enyo.css">
    <link rel="stylesheet" href="../build/app.css">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/uploadfile.css">
    <link rel="stylesheet" href="../css/jquery-confirm.min.css">

    <meta http-equiv="Content-Type" content="text/html; charset=utf8"/>
    <meta http-equiv="Cache-Control" content="public"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="viewport" content="user-scalable=yes"/>

    <script src="../build/enyo.js" type="text/javascript"></script>
    <script src="../build/app.js" type="text/javascript"></script>
    <script src="../js/raphael-min.js" type="text/javascript"></script>
    <script src="../js/scale.raphael.min.js" type="text/javascript"></script>
    <script src="../js/jsxcompressor.min.js" type="text/javascript"></script>
    <script src="../js/raphael.export.min.js" type="text/javascript"></script>
    <script src="../js/rgbcolor.min.js" type="text/javascript"></script>
    <script src="../js/StackBlur.min.js" type="text/javascript"></script>
    <script src="../js/canvg.min.js" type="text/javascript"></script>
    <script src="../js/jquery-1.12.0.min.js" type="text/javascript"></script>
    <script src="../js/jquery.uploadfile.min.js"></script>
    <script src="../js/jquery-confirm.min.js"></script>
    <script src="../js/jquery.noty.packaged.min.js" type="text/javascript"></script>
    <script src="../js/package.js" type="text/javascript"></script>
    <script src="../js/raphael.inline_text_editing.js" type="text/javascript"></script>
    <script src="../js/d3.min.js"></script>
    <script src="../js/Queue.src.js"></script>
    <script src="../js/AgoraWhiteBoardApi.js" type="text/javascript"></script>
</head>
<body class="enyo-unselectable">
<script>

    function getParameterByName(name, url) {
        if (!url) url = window.location.href;
        name = name.replace(/[\[\]]/g, "\\$&");

        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)", "i"),
            results = regex.exec(url);

        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, " "));
    }

    var room = getParameterByName("room");

    /* Call AgoraWhiteBoardApi */
    var api = new AgoraWhiteBoardApi();
    api.canvasWidth = 1024;
    api.canvasHeight = 768;
    api.canvasNode = document.body;
    var params = {
        key: 'f4637604af81440596a54254d53ade20',
        cname: room || 'PES-2017',
        uinfo: 'Demba Ba',
        role: 'host',
        onJoin: function (ec, em, cname, uinfo) {
            console.log('[onJoin] ec: ' + ec + ' em: ' + em + ' cname: ' + cname + ' uinfo: ' + uinfo);
        }
    };
    api.join(params);
</script>

</body>
</html>
